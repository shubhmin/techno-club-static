<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cyber Security Club — DAV Public School</title>
  <meta name="description" content="DAV Public School's Cyber Security Club — events, members, gallery and resources." />
  <link rel="icon" href="assets/logo.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css" />
  <script>
    if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
    window.addEventListener('load', function () { window.scrollTo(0, 0); });
    document.addEventListener('DOMContentLoaded', function () { window.scrollTo(0, 0); });
  </script>
</head>
<body class="min-h-screen flex flex-col bg-slate-950 text-slate-100">

  <!-- HEADER -->
  <header class="sticky top-0 z-50 backdrop-blur bg-slate-900/70 border-b border-slate-800">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-3">
        <img src="assets/logo.png" alt="Club Logo" class="h-10 w-10 rounded-lg" />
        <div class="leading-tight">
          <div class="font-bold text-lg">Cyber Security Club</div>
          <div class="text-xs text-slate-400">DAV Public School, Sreshtha Vihar</div>
        </div>
      </a>
      <nav class="flex items-center gap-1 text-sm">
        <a class="navlink" href="index.html">Home</a>
        <a class="navlink" href="about.html">About</a>
        <a class="navlink" href="members.html">Members</a>
        <a class="navlink" href="gallery.html">Gallery</a>
        <a class="navlink" href="ethical-ai.html">Ethical AI</a>
        <a class="navlink" href="contactus.html">Contact us</a>
        <a class="nav_cta active" href="chatbot.html">Chatbot</a>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main class="flex-1">
    <section class="max-w-3xl mx-auto px-4 py-12">
      <h1 class="page_title">Cybersecurity & AI Chatbot</h1>
      <p class="lead">Ask about cybersecurity or ethical AI — e.g. phishing, malware, firewalls, AI bias, privacy.</p>

      <!-- Chat UI -->
      <div class="card mt-8 p-4 flex flex-col space-y-4">
        <div id="chatbox" class="h-96 overflow-y-auto bg-slate-900/50 rounded-lg p-4 space-y-3 text-sm"></div>
        <div class="flex space-x-2">
          <input id="userInput" type="text" placeholder="Type your question..."
            class="flex-1 p-2 rounded-lg bg-slate-800 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-400">
          <button id="sendBtn"
            class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition">Send</button>
        </div>
      </div>

      <!-- Quick buttons -->
      <div class="card mt-6">
        <div class="card_title">Quick questions</div>
        <div class="text-slate-300 text-sm mt-2 flex flex-wrap gap-2">
          <button class="btn_ghost" data-ask="What is phishing?">What is phishing?</button>
          <button class="btn_ghost" data-ask="How to make a strong password?">Strong password tips</button>
          <button class="btn_ghost" data-ask="What is 2FA?">What is 2FA?</button>
          <button class="btn_ghost" data-ask="How to prevent malware?">Prevent malware</button>
          <button class="btn_ghost" data-ask="What is a firewall?">What is a firewall?</button>
          <button class="btn_ghost" data-ask="What is AI bias?">What is AI bias?</button>
          <button class="btn_ghost" data-ask="How to avoid AI plagiarism?">Avoid AI plagiarism</button>
          <button class="btn_ghost" data-ask="What are safe AI prompts?">Safe AI prompts</button>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="mt-auto border-t border-slate-800 bg-slate-900/60">
    <div class="max-w-6xl mx-auto px-4 py-8 grid sm:grid-cols-2 gap-6">
      <div>
        <div class="flex items-center gap-3">
          <img src="assets/logo.png" class="h-9 w-9 rounded-lg" alt="Logo"/>
          <div class="font-semibold">Cyber Security Club</div>
        </div>
        <p class="text-slate-400 mt-3 text-sm">Spreading cyber awareness, hands-on workshops, and cool projects — by students, for students.</p>
      </div>
      <div class="flex sm:justify-end items-center gap-4 text-sm text-slate-400">
        <a href="about.html" class="hover:text-white">About</a>
        <a href="members.html" class="hover:text-white">Members</a>
        <a href="gallery.html" class="hover:text-white">Gallery</a>
        <a href="ethical-ai.html" class="hover:text-white">Ethical AI</a>
        <a href="chatbot.html" class="hover:text-white">Chatbot</a>
      </div>
    </div>
    <div class="text-center text-xs text-slate-500 py-4 border-t border-slate-800">© 2025 Cyber Security Club • DAV Public School, Sreshtha Vihar</div>
  </footer>

  <!-- CHATBOT SCRIPT -->
  <script>
    let knowledgeBase = {};

    // Load JSON dynamically
    fetch("knowledge.json")
      .then(response => response.json())
      .then(data => {
        knowledgeBase = data;
      })
      .catch(err => console.error("Error loading knowledge base:", err));

    const chatbox = document.getElementById("chatbox");
    const userInput = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");

    function appendMessage(sender, text) {
      const div = document.createElement("div");
      div.className = sender === "You"
        ? "flex justify-end"
        : "flex justify-start";
      
      const bubble = document.createElement("div");
      bubble.className = sender === "You"
        ? "bg-indigo-600 text-white p-3 rounded-xl max-w-xs"
        : "bg-slate-800 text-slate-200 p-3 rounded-xl max-w-xs";
      bubble.innerText = text;

      div.appendChild(bubble);
      chatbox.appendChild(div);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    function getResponse(msg) {
      msg = msg.toLowerCase();
      for (let key in knowledgeBase) {
        if (msg.includes(key)) return knowledgeBase[key];
      }
      return "Sorry, I only answer questions about cybersecurity and ethical AI.";
    }

    function handleSend() {
      const msg = userInput.value.trim();
      if (!msg) return;
      appendMessage("You", msg);
      const reply = getResponse(msg);
      setTimeout(() => appendMessage("Bot", reply), 500);
      userInput.value = "";
    }

    sendBtn.addEventListener("click", handleSend);
    userInput.addEventListener("keypress", e => {
      if (e.key === "Enter") handleSend();
    });

    // Quick buttons
    document.querySelectorAll('[data-ask]').forEach(btn => {
      btn.addEventListener('click', () => {
        userInput.value = btn.getAttribute('data-ask');
        handleSend();
      });
    });
  </script>
</body>
</html>
